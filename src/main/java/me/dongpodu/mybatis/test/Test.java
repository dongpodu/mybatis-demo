package me.dongpodu.mybatis.test;import me.dongpodu.mybatis.mapper.StudentMapper;import me.dongpodu.mybatis.model.Student;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import java.io.IOException;import java.io.Reader;public class Test {    private static SqlSessionFactory sqlSessionFactory;    /**     * 初始化sqlSessionFactory     */    public static void init() {        try {            Reader reader = Resources.getResourceAsReader("mybatis-config.xml");            sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);            reader.close();        } catch (IOException ignore) {            ignore.printStackTrace();        }    }    public static void main(String[] args) {        //jdk8之前的设置//        System.getProperties().put("sun.misc.ProxyGenerator.saveGeneratedFiles","true");        //jdk8之后的设置        System.setProperty("jdk.proxy.ProxyGenerator.saveGeneratedFiles", "true");        // 连接数据库        init();        var sqlSession = sqlSessionFactory.openSession();        var mapper = sqlSession.getMapper(StudentMapper.class);        test2(mapper);        sqlSession.commit();        sqlSession.close();    }    public static void test1(StudentMapper mapper) {        var result = mapper.selectAll();        System.out.println(result);    }    public static void test2(StudentMapper mapper) {        var model = new Student();        model.setName("3");        model.setNo(5);        var result = mapper.insert(model);        System.out.println(result);        System.out.println(model.getId());    }}